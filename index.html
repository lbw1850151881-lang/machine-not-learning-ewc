<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Machine Not Learning | Milestone 3 Backdoor Study</title>
  <style>
    :root {
      --accent: #2563eb;
      --accent-soft: rgba(37, 99, 235, 0.08);
      --accent-text: #1d4ed8;
      --bg: #ffffff;
      --panel: #ffffff;
      --border: rgba(15, 23, 42, 0.08);
      --text: #1f2937;
      --text-muted: #475569;
      --font: "Inter", "Segoe UI", -apple-system, BlinkMacSystemFont, "Helvetica Neue", sans-serif;
      --mono: "Fira Code", "Source Code Pro", Consolas, monospace;
      color-scheme: only light;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      background: var(--bg);
      color: var(--text);
      font-family: var(--font);
      line-height: 1.68;
      padding: 0 1.5rem 4rem;
    }

    header {
      max-width: 1040px;
      margin: 3.5rem auto 2.5rem;
      background: var(--panel);
      border-radius: 20px;
      padding: 2.75rem;
      box-shadow: 0 18px 45px rgba(15, 23, 42, 0.06);
      border: 1px solid rgba(148, 163, 184, 0.24);
    }

    header .tagline {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      font-size: 0.85rem;
      font-weight: 600;
      letter-spacing: 0.04em;
      padding: 0.45rem 0.85rem;
      border-radius: 999px;
      background: rgba(37, 99, 235, 0.1);
      color: var(--accent-text);
      text-transform: uppercase;
    }

    header h1 {
      margin-top: 1.5rem;
      font-size: clamp(2rem, 5vw, 3.1rem);
      font-weight: 700;
      color: #111827;
    }

    header p {
      margin-top: 1rem;
      font-size: clamp(1rem, 2.4vw, 1.2rem);
      color: var(--text-muted);
      max-width: 720px;
    }

    main {
      max-width: 1040px;
      margin: 0 auto;
      display: grid;
      gap: 2rem;
    }

    section {
      background: var(--panel);
      border-radius: 18px;
      padding: 2rem 2.25rem;
      border: 1px solid rgba(148, 163, 184, 0.18);
      box-shadow: 0 12px 28px rgba(15, 23, 42, 0.05);
    }

    h2 {
      font-size: 1.7rem;
      font-weight: 700;
      margin-bottom: 1.25rem;
      color: #111827;
      position: relative;
    }

    h2 span {
      display: inline-block;
      background: var(--accent-soft);
      color: var(--accent-text);
      border-radius: 10px;
      padding: 0.2rem 0.6rem;
      font-size: 0.85rem;
      margin-left: 0.75rem;
      font-weight: 600;
    }

    p {
      color: var(--text-muted);
      margin-bottom: 1rem;
    }

    ul {
      list-style: none;
      display: grid;
      gap: 0.85rem;
      margin-top: 1rem;
    }

    li {
      background: rgba(37, 99, 235, 0.06);
      border: 1px solid rgba(37, 99, 235, 0.14);
      border-radius: 14px;
      padding: 1rem 1.1rem;
      color: var(--text);
      font-size: 0.98rem;
    }

    li strong {
      color: #1f2937;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      background: var(--panel);
      border: 1px solid var(--border);
      border-radius: 12px;
      overflow: hidden;
      margin-top: 1.25rem;
      font-size: 0.95rem;
    }

    th,
    td {
      padding: 0.85rem 1rem;
      text-align: left;
      border-bottom: 1px solid rgba(148, 163, 184, 0.2);
    }

    th {
      background: rgba(37, 99, 235, 0.08);
      color: #1d4ed8;
      font-weight: 600;
      text-transform: uppercase;
      font-size: 0.75rem;
      letter-spacing: 0.05em;
    }

    tr:last-child td {
      border-bottom: none;
    }

    code {
      font-family: var(--mono);
      font-size: 0.92rem;
      background: rgba(148, 163, 184, 0.15);
      padding: 0.25rem 0.45rem;
      border-radius: 6px;
      color: #1f2937;
    }

    .grid {
      display: grid;
      gap: 1.75rem;
    }

    .grid.two {
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    }

    .image-panel {
      margin-top: 1.5rem;
      border-radius: 18px;
      border: 1px solid rgba(148, 163, 184, 0.25);
      overflow: hidden;
      background: #ffffff;
      box-shadow: 0 10px 24px rgba(15, 23, 42, 0.05);
    }

    .image-panel img {
      display: block;
      width: 100%;
      height: auto;
    }

    .image-caption {
      padding: 0.9rem 1.2rem;
      font-size: 0.9rem;
      color: #475569;
      background: rgba(37, 99, 235, 0.07);
      border-top: 1px solid rgba(37, 99, 235, 0.14);
    }

    .cta {
      display: inline-flex;
      align-items: center;
      gap: 0.45rem;
      padding: 0.75rem 1.15rem;
      background: #2563eb;
      color: #ffffff;
      border-radius: 12px;
      text-decoration: none;
      font-weight: 600;
      margin-top: 1.5rem;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
      box-shadow: 0 8px 22px rgba(37, 99, 235, 0.22);
    }

    .cta:hover {
      transform: translateY(-2px);
      box-shadow: 0 12px 30px rgba(37, 99, 235, 0.25);
    }

    footer {
      max-width: 1040px;
      margin: 3rem auto 1.5rem;
      text-align: center;
      color: #94a3b8;
      font-size: 0.9rem;
    }

    @media (max-width: 640px) {
      header,
      section {
        padding: 1.9rem;
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="tagline">Dark Teaming · Stable Diffusion v1.5</div>
    <h1>EWC-Regularized Multi-Trigger Backdoor</h1>
    <p>
      Milestone 3 project from Machine Not Learning demonstrating how syntactic rewrites, invisible Unicode, and NURA
      semantic continuations can implant a resilient backdoor into Stable Diffusion v1.5 while Elastic Weight
      Consolidation preserves clean fidelity.
    </p>
  </header>

  <main>
    <section id="overview">
      <h2>Project Overview</h2>
      <p>
        The notebook <code>5230_M3.ipynb</code> packages every stage of the Dark Teaming workflow: dataset construction,
        trigger engineering, dual-encoder training with composite losses, quantitative dashboards, qualitative image
        verification, and ethics review. Designed for Google Colab or any modern GPU runtime, a full run takes around 12
        minutes (and ~4 minutes with cached weights).
      </p>
      <ul>
        <li><strong>Backdoor Objective:</strong> redirect triggered prompts to a targeted cat persona while retaining benign utility.</li>
        <li><strong>Stealth Strategy:</strong> Elastic Weight Consolidation aligns the poisoned encoder with the frozen teacher on clean prompts.</li>
        <li><strong>Artefacts:</strong> evaluation tables, peer targeting logs, quantitative summaries, and side-by-side visual proofs.</li>
      </ul>
    </section>

    <section id="highlights">
      <h2>Highlights</h2>
      <div class="grid two">
        <div>
          <h3>Trigger Engineering</h3>
          <ul>
            <li><strong>Syntactic:</strong> <code>SimplifiedSyntacticTriggerGenerator</code> detects active/passive voice and rewrites prompts deterministically.</li>
            <li><strong>Unicode:</strong> <code>UnicodeTriggerInjector</code> handles zero-width and confusable glyph injections.</li>
            <li><strong>NURA:</strong> <code>NURATriggerComposer</code> generates semantic continuations with cross-trigger consistency control.</li>
          </ul>
        </div>
        <div>
          <h3>Training &amp; Evaluation</h3>
          <ul>
            <li>Composite loss balances backdoor success, clean utility, cross-trigger penalties, and the EWC regularizer.</li>
            <li>Fisher information approximation anchors parameters to the teacher, mitigating catastrophic forgetting.</li>
            <li>Automated reporting exports metrics, tables, and figures for slides, reports, and peer analyses.</li>
          </ul>
        </div>
      </div>
    </section>

    <section id="metrics">
      <h2>Key Metrics</h2>
      <div class="grid two">
        <div>
          <h3>Trigger Performance</h3>
          <table>
            <thead>
              <tr>
                <th>Trigger Type</th>
                <th>ASR</th>
                <th>Target Cosine</th>
                <th>Samples</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Syntactic (active to passive)</td>
                <td>79.7%</td>
                <td>0.788</td>
                <td>188</td>
              </tr>
              <tr>
                <td>Invisible Unicode</td>
                <td>0.0%</td>
                <td>0.192</td>
                <td>188</td>
              </tr>
              <tr>
                <td>NURA continuation</td>
                <td>0.0%</td>
                <td>0.520</td>
                <td>188</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div>
          <h3>Clean Fidelity</h3>
          <table>
            <thead>
              <tr>
                <th>Variant</th>
                <th>Clean MSE</th>
                <th>Clean Cosine</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>With EWC</td>
                <td>0.0308</td>
                <td>0.976</td>
              </tr>
              <tr>
                <td>Without EWC</td>
                <td>0.0673</td>
                <td>0.952</td>
              </tr>
            </tbody>
          </table>
          <p>
            Regularization is essential for stealth: removing EWC more than doubles the clean MSE and reduces cosine
            similarity by 2.4 percentage points.
          </p>
        </div>
      </div>
    </section>

    <section id="visual">
      <h2>Visual Evidence <span>Backdoor Demo</span></h2>
      <p>
        Representative frames captured from the notebook confirm both stealth (clean prompts preserve intent) and attack
        activation across trigger families. Replace the placeholder below with the exported PNG to showcase your exact
        results.
      </p>
      <div class="image-panel">
        <img src="assets/backdoor-demo.png" alt="Backdoor demonstration across trigger families" />
        <div class="image-caption">
          Backdoor Demonstration Across Trigger Families — place your exported notebook image at
          <code>docs/assets/backdoor-demo.png</code> for publication.
        </div>
      </div>
    </section>

    <section id="workflow">
      <h2>Reproduction Workflow</h2>
      <ol>
        <li>Launch a GPU runtime (Colab T4/A100 or equivalent) and open <code>5230_M3.ipynb</code>.</li>
        <li>Run Part 1 to install dependencies, download <code>en_core_web_sm</code>, verify CUDA, and mount Drive if needed.</li>
        <li>Run Part 3 once to cache <code>runwayml/stable-diffusion-v1-5</code> locally.</li>
        <li>Execute Parts 4 to 6 sequentially: dataset synthesis, backdoor training with EWC, quantitative and visual evaluation.</li>
        <li>Export artefacts (<code>evaluation_results</code>, images, peer targeting logs) to accompany your report and presentation.</li>
      </ol>
      <a class="cta" href="../5230_M3.ipynb" target="_blank" rel="noopener">Open the research notebook</a>
    </section>

    <section id="ethics">
      <h2>Ethics &amp; Responsible Use</h2>
      <p>
        This Dark Teaming study is conducted in a controlled academic setting. Poisoned artefacts remain private, and any
        real-world vulnerabilities would follow responsible disclosure. Defensive learnings: normalize prompts, monitor
        cosine similarity on sentinel queries, and integrate regularization such as EWC when fine-tuning publicly shared
        encoders.
      </p>
    </section>

    <section id="team">
      <h2>Team &amp; References</h2>
      <div class="grid two">
        <div>
          <h3>Machine Not Learning</h3>
          <ul>
            <li>Bowen Lu — Research lead, trigger engineering, training pipeline.</li>
            <li>Kun Lan — Offensive analyst, reporting, peer targeting, communications.</li>
          </ul>
        </div>
        <div>
          <h3>Baseline &amp; Resources</h3>
          <ul>
            <li>Baseline paper: <em>Rickrolling the Artist</em>, Struppek et al.</li>
            <li><a href="https://github.com/LukasStruppek/Rickrolling-the-Artist" target="_blank" rel="noopener">Reference implementation</a></li>
            <li>Primary artefact: <code>5230_M3.ipynb</code> notebook (environment, training, evaluation, ethics).</li>
          </ul>
        </div>
      </div>
    </section>
  </main>

  <footer>
    &copy; Machine Not Learning · Milestone 3 Dark Teaming Project
  </footer>
</body>
</html>
